<%= simple_form_for([:admin, election]) do |f| %>
  <%= f.input :title, wrapper_html: {class: 'inline third'} %>
  <%= f.input :semester, collection: [[t("model.position.semester.#{Position::AUTUMN}"), Position::AUTUMN],
                                      [t("model.position.semester.#{Position::SPRING}"), Position::SPRING],
                                      [t("model.position.semester.#{Position::OTHER}"), Position::OTHER]],
                         include_blank: false,
                         input_html: {class: 'select2'},
                         wrapper_html: {class: 'inline third'} %>
  <%= f.input :url, wrapper_html: {class: 'inline third'} %>
  <%= simple_format(t('.semester_hint_for_other')) %>
  <%= f.input :open, as: :datetime_picker %>
  <%= f.input :close_general, as: :datetime_picker %>
  <%= f.input :close_all, as: :datetime_picker %>
  <%= f.input :description, as: :pagedown, input_html: { preview: true, rows: 10 } %>
  <%= f.input :board_mail_link %>
  <%= f.input :mail_link %>
  <%= f.input :visible %>
  <% if election.semester == Position::OTHER %>
    <%= f.association :extra_positions, collection: Position.by_title,
                                        include_blank: false,
                                        input_html: {class: 'select2_tags'} %>
  <% end %>
  <%= f.button :submit %>

  <% if election.persisted? %>
    <%= link_to(t('.edit_texts'),
                edit_admin_election_path(election),
                class: 'btn secondary') %>
    <% if can_administrate? :manage, :all %>
      <%= link_to(t('.destroy'), admin_election_path(election),
                                 class: 'btn danger pull-right',
                                 data: {confirm: t('.confirm_destroy')},
                                 method: :delete) %>
    <% end %>
  <% end %>

  <hr>
  <%= render '/admin/positions/position_grid', position_grid: @position_grid %>
<% end %>
